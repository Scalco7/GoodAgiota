<p-table #dt1 dataKey="id" [value]="loans" [paginator]="true" [rows]="7"
    [globalFilterFields]="['loanDate', 'paymentDate', 'value', 'userName', 'currency']"
    [tableStyle]="{ 'min-width': '70rem'}" class="inter" tab>
    <ng-template #header>
        <tr>
            <th>#</th>
            <th>Data do Empréstimo</th>
            <th>Meses</th>
            <th>Usuário</th>
            <th>Valor Emprestado</th>
            <th>Taxa</th>
            <th>Valor Final</th>
            <th>Pago</th>
            <th></th>
        </tr>
    </ng-template>
    <ng-template #body let-loan>
        <tr>
            <td>
                {{loans.indexOf(loan) + 1}}
            </td>
            <td>{{ formatDate(loan.loanDate )}}</td>
            <td>{{ loan.loanDurationInMonths }}</td>
            <td>
                {{ loan.userName }}
            </td>
            <td>
                {{ formatCurrency(loan.loanValue, loan.currency) }}
            </td>
            <td>
                {{ formatPercentage(loan.loanRate) }}
            </td>
            <td>
                {{ formatCurrency(loan.toPayValue, loan.currency) }}
            </td>
            <td>
                <i class="pi" [ngClass]="{
                        'text-green-500 pi-check-circle': loan.paid,
                        'text-red-500 pi-times-circle': !loan.paid
                    }"></i>
            </td>
            <td>
                <button class="p-ripple p-button p-component w-9 h-9" (click)="handleOnPayLoan(loan); $event.stopPropagation()"
                    type="button" [disabled]="loan.paid">
                    <i class="pi pi-money-bill"></i>
                </button>
            </td>
        </tr>
    </ng-template>
    <ng-template #emptymessage>
        <tr>
            <td colspan="6">Nenhum empréstimo cadastrado.</td>
        </tr>
    </ng-template>
</p-table>